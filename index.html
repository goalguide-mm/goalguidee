<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GOAL GUIDE - Professional</title>
    <style>
        /* Base Styling */
        body { margin: 0; font-family: 'Arial', sans-serif; background: #0b0f14; color: #fff; }
        
        /* Header & Nav */
        header { 
            padding: 15px 25px; background: #0d121a; 
            border-bottom: 2px solid #f5c400; 
            display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 1000;
        }
        header h1 { color: #f5c400; margin: 0; font-size: 24px; font-weight: 800; }
        nav button { 
            background: none; border: none; color: #fff; 
            margin-left: 15px; cursor: pointer; font-weight: bold; opacity: 0.6;
        }
        nav button.active { opacity: 1; color: #f5c400; border-bottom: 2px solid #f5c400; padding-bottom: 5px; }

        /* Filter Controls */
        .controls { padding: 15px 25px; display: flex; gap: 10px; background: #111823; }
        select, .refresh-btn { 
            background: #1a222f; color: #f5c400; border: 1px solid #f5c400; 
            padding: 8px 12px; border-radius: 5px; cursor: pointer; font-weight: bold;
        }

        /* Grid System */
        .container { padding: 20px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 15px; }

        /* Card Design - အတိအကျ ပြန်ရေးထားခြင်း */
        .card { 
            background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); 
            border-radius: 12px; padding: 20px; text-align: center; transition: 0.3s;
        }
        .card:hover { border-color: #f5c400; background: rgba(245, 196, 0, 0.05); }
        .league-name { font-size: 10px; color: #888; display: block; margin-bottom: 15px; text-transform: uppercase; }
        .match-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .team { flex: 1; font-weight: bold; font-size: 14px; }
        .vs { color: #f5c400; font-weight: 900; font-size: 12px; padding: 0 10px; }
        .time-tag { font-size: 12px; color: #f5c400; font-weight: bold; border-top: 1px solid #222; padding-top: 10px; }

        .video-box iframe { width: 100%; border-radius: 8px; height: 180px; }

        /* Status Messages */
        .status { text-align: center; padding: 50px; color: #888; grid-column: 1/-1; }
        section { display: none; }
        section.active { display: block; }
    </style>
</head>
<body>

<header>
    <h1>GOAL GUIDE</h1>
    <nav>
        <button id="nav-live" onclick="tab('live')">LIVE</button>
        <button id="nav-fixtures" class="active" onclick="tab('fixtures')">FIXTURES</button>
        <button id="nav-highlights" onclick="tab('highlights')">HIGHLIGHTS</button>
    </nav>
</header>

<div class="controls">
    <select id="leagueId" onchange="refresh()">
        <option value="4328">Premier League</option>
        <option value="4335">La Liga</option>
        <option value="4332">Serie A</option>
        <option value="4331">Bundesliga</option>
    </select>
    <button class="refresh-btn" onclick="refresh()">REFRESH</button>
</div>

<div class="container">
    <section id="live"><div class="grid" id="liveGrid"></div></section>
    <section id="fixtures" class="active"><div class="grid" id="fixtureGrid"></div></section>
    <section id="highlights"><div class="grid" id="highlightGrid"></div></section>
</div>

<script>
    // Public APIs - No Keys Needed
    const SPORTS_API = "https://www.thesportsdb.com/api/v1/json/3";
    const VIDEO_API = "https://www.scorebat.com/video-api/v3/feed/?token=MTY4OTdfMTcwNjY3Mzk3NF9mMDJiZTU3YmM0MzU0YWRiOTViYmI3ODU0YjE3Y2M1Yg==";

    function tab(name) {
        document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
        document.getElementById(name).classList.add('active');
        document.getElementById('nav-' + name).classList.add('active');
        refresh();
    }

    async function refresh() {
        const activeTab = document.querySelector('section.active').id;
        const league = document.getElementById('leagueId').value;
        const leagueName = document.getElementById('leagueId').options[document.getElementById('leagueId').selectedIndex].text;

        if(activeTab === 'fixtures') loadMatches(`${SPORTS_API}/eventsnextleague.php?id=${league}`, 'fixtureGrid');
        if(activeTab === 'live') loadMatches(`${SPORTS_API}/eventsday.php?s=Soccer`, 'liveGrid', league);
        if(activeTab === 'highlights') loadHighlights(leagueName);
    }

    async function loadMatches(url, gridId, filterId = null) {
        const grid = document.getElementById(gridId);
        grid.innerHTML = '<div class="status">Loading...</div>';
        try {
            const res = await fetch(url);
            const data = await res.json();
            grid.innerHTML = "";
            let events = data.events || [];
            
            if(filterId) events = events.filter(e => e.idLeague === filterId);

            if(events.length === 0) {
                grid.innerHTML = '<div class="status">ပွဲစဉ်များ မရှိသေးပါ။</div>';
                return;
            }

            events.forEach(m => {
                grid.innerHTML += `
                    <div class="card">
                        <span class="league-name">${m.strLeague}</span>
                        <div class="match-row">
                            <div class="team">${m.strHomeTeam}</div>
                            <div class="vs">VS</div>
                            <div class="team">${m.strAwayTeam}</div>
                        </div>
                        <div class="time-tag">${m.dateEvent} | ${m.strTime ? m.strTime.substring(0,5) : ''} MMT</div>
                    </div>`;
            });
        } catch (e) { grid.innerHTML = '<div class="status">Error Loading Data</div>'; }
    }

    async function loadHighlights(lName) {
        const grid = document.getElementById('highlightGrid');
        grid.innerHTML = '<div class="status">Loading...</div>';
        try {
            const res = await fetch(VIDEO_API);
            const data = await res.json();
            const filtered = data.response.filter(v => v.competition.includes(lName));
            grid.innerHTML = "";
            
            if(filtered.length === 0) {
                grid.innerHTML = `<div class="status">${lName} အတွက် Highlight မရှိသေးပါ။</div>`;
                return;
            }

            filtered.slice(0, 8).forEach(v => {
                grid.innerHTML += `
                    <div class="card">
                        <span class="league-name">${v.competition}</span>
                        <div style="margin-bottom:10px; font-weight:bold; font-size:13px;">${v.title}</div>
                        <div class="video-box">${v.videos[0].embed}</div>
                    </div>`;
            });
        } catch (e) { grid.innerHTML = '<div class="status">Highlight Error</div>'; }
    }

    // Start
    refresh();
</script>
</body>
</html>
