<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GOAL GUIDE</title>
<style>
/* Design အပိုင်းကို သင့်ပုံပါအတိုင်း အနက်ရောင် Theme ထားရှိပါသည် */
*{box-sizing:border-box}
body{ margin:0; font-family:Segoe UI, sans-serif; background:#0b0f14; color:#fff; }
header{
  padding:14px 22px; display:flex; justify-content:space-between; align-items:center;
  border-bottom:2px solid #f5c400; background:#0d121a;
}
.logo-area { display: flex; align-items: center; gap: 12px; }
/* GitHub က သင့် Logo ပုံကို ဒီမှာ အရွယ်အစား ညှိထားပါတယ် */
.logo-area img { width: 45px; height: 45px; object-fit: cover; border-radius: 4px; border: 1px solid #333; }
header h1{margin:0;color:#f5c400; font-size: 22px; font-weight: 800;}
nav button{ background:none; border:none; color:#fff; font-weight:600; cursor:pointer; margin-left:12px; opacity:.6; }
nav button.active{ opacity:1; color:#f5c400; border-bottom: 2px solid #f5c400; padding-bottom: 4px; }
.controls{ padding:14px 22px; display:flex; gap:10px; flex-wrap:wrap; background: #111823; }
select, button{ background:#1a222f; color:#f5c400; border:1px solid #f5c400; padding:7px 12px; border-radius:6px; cursor:pointer; font-weight:bold; }
section{ display:none; padding:22px; }
section.active{ display:block; }
.grid{ display:grid; grid-template-columns:repeat(auto-fill,minmax(300px,1fr)); gap:16px; }
.card{ background:linear-gradient(145deg,#151c26,#0d121a); padding:18px; border-radius:12px; border: 1px solid #2d3748; }
.league{ font-size:11px; opacity:.7; margin-bottom:10px; color: #f5c400; text-transform: uppercase; }
.match{ display:grid; grid-template-columns:1fr auto 1fr; align-items:center; gap:8px; }
.vs{ color:#f5c400; font-weight:900; }
.time{ margin-top:12px; font-size:12px; color:#f5c400; background:rgba(245,196,0,0.1); padding:6px; border-radius:6px; width:100%; text-align:center; }
.video{ position:relative; padding-bottom:56.25%; height:0; margin-top:12px; border-radius:8px; overflow:hidden; }
.video iframe{ position:absolute; width:100%; height:100%; left:0; top:0; border:0; }
.center{ text-align:center; opacity:.6; padding:40px 0; grid-column:1/-1; }
footer{ text-align:center; padding:20px; font-size:12px; opacity:.4; }
</style>
</head>

<body>

<header>
  <div class="logo-area">
    <img src="IMG_20260123_104505_958.jpg" alt="Logo">
    <h1>GOAL GUIDE</h1>
  </div>
  <nav>
    <button class="active" onclick="showPage('live',this)">LIVE</button>
    <button onclick="showPage('fixtures',this)">FIXTURES</button>
    <button onclick="showPage('highlights',this)">HIGHLIGHTS</button>
  </nav>
</header>

<div class="controls">
  <select id="league" onchange="refreshCurrent()">
    <option value="4328">Premier League</option>
    <option value="4335">La Liga</option>
    <option value="4331">Bundesliga</option>
    <option value="4332">Serie A</option>
    <option value="4334">Ligue 1</option>
  </select>
  <button onclick="refreshCurrent()">REFRESH</button>
</div>

<section id="live" class="active"><div id="liveBox" class="grid"></div></section>
<section id="fixtures"><div id="fixtureBox" class="grid"></div></section>
<section id="highlights"><div id="highlightBox" class="grid"></div></section>

<footer>Goal Guide · Myanmar Time (MMT) · 2026</footer>

<script>
const DB="https://www.thesportsdb.com/api/v1/json/3";
const SCOREBAT="https://www.scorebat.com/video-api/v3/feed/?token=MTY4OTdfMTcwNjY3Mzk3NF9mMDJiZTU3YmM0MzU0YWRiOTViYmI3ODU0YjE3Y2M1Yg==";

function showPage(id,btn){
  document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
  document.querySelectorAll("nav button").forEach(b=>b.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  btn.classList.add("active");
  if(id==="highlights") loadHighlights();
  if(id==="fixtures") loadFixtures();
  if(id==="live") loadLive();
}

function refreshCurrent() {
    const active = document.querySelector('section.active').id;
    if(active === 'fixtures') loadFixtures();
    else if(active === 'live') loadLive();
    else loadHighlights();
}

function mmt(d,t){
  if(!d||!t) return "TBA";
  const x=new Date(d+"T"+t+"Z");
  x.setMinutes(x.getMinutes()+390);
  return x.toLocaleString("en-GB",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})+" MMT";
}

async function loadFixtures(){
  const league=document.getElementById("league").value;
  const box=document.getElementById("fixtureBox");
  box.innerHTML="<div class='center'>Loading fixtures...</div>";
  try{
    const r=await fetch(`${DB}/eventsnextleague.php?id=${league}`);
    const j=await r.json();
    box.innerHTML= j.events ? j.events.map(e=>`
      <div class="card">
        <div class="league">${e.strLeague}</div>
        <div class="match">
          <div class="team">${e.strHomeTeam}</div>
          <div class="vs">VS</div>
          <div class="team" style="text-align:right">${e.strAwayTeam}</div>
        </div>
        <div class="time">${mmt(e.dateEvent,e.strTime)}</div>
      </div>`).join('') : "<div class='center'>No fixtures found.</div>";
  }catch{ box.innerHTML="<div class='center'>Error loading data.</div>"; }
}

async function loadLive(){
  const box=document.getElementById("liveBox");
  box.innerHTML="<div class='center'>Loading today's matches...</div>";
  try {
    const r=await fetch(`${DB}/eventsday.php?s=Soccer`);
    const j=await r.json();
    box.innerHTML= j.events ? j.events.map(e=>`
      <div class="card">
        <div class="league">${e.strLeague}</div>
        <div class="match">
          <div class="team">${e.strHomeTeam}</div>
          <div class="vs">VS</div>
          <div class="team" style="text-align:right">${e.strAwayTeam}</div>
        </div>
        <div class="time">${mmt(e.dateEvent,e.strTime)}</div>
      </div>`).join('') : "<div class='center'>No live matches today.</div>";
  } catch(e) { box.innerHTML="<div class='center'>Service limit reached.</div>"; }
}

async function loadHighlights(){
  const box=document.getElementById("highlightBox");
  box.innerHTML="<div class='center'>Finding Today & Yesterday highlights...</div>";
  try {
    const r=await fetch(SCOREBAT);
    const j=await r.json();
    
    // ဒီနေ့နဲ့ မနေ့ကကို ရှာတဲ့ Logic
    const today = new Date().toISOString().split('T')[0];
    const yesterday = new Date(Date.now() - 86400000).toISOString().split('T')[0];

    const filtered = j.response.filter(v => v.date.startsWith(today) || v.date.startsWith(yesterday));
    
    box.innerHTML = filtered.length > 0 ? filtered.map(v=>`
      <div class="card">
        <div class="league">${v.competition}</div>
        <div style="margin-bottom:10px; font-weight:bold; font-size:13px;">${v.title}</div>
        <div class="video">${v.videos[0].embed}</div>
      </div>`).join('') : "<div class='center'>No highlights found for today or yesterday.</div>";
  } catch(e) { box.innerHTML="<div class='center'>Error loading highlights.</div>"; }
}

loadLive();
</script>

</body>
</html>
